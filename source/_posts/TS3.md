---
title: TS3
cover: /img/bgg.jpg
tags:
  - - TS
categories:
  - - TS
abbrlink: bab230ff
date: 2022-04-19 10:34:06
---
<p id="hitokotoText"></p>
<p id="hitokotoFrom"></p>

### ç±»

å…¶å®åœ¨JSåœ¨ES6å‘å¸ƒä¹‹å‰ä»æ¥éƒ½æ²¡æœ‰ç±»çš„æ¦‚å¿µï¼Œéƒ½æ˜¯é€šè¿‡æ„é€ å‡½æ•°å»æ¨¡æ‹Ÿç±»ï¼ŒES6å‘å¸ƒäº†classï¼Œä½†æ˜¯å¤§éƒ¨åˆ†Jsç¨‹åºå‘˜å¯¹ç±»çš„æ¦‚å¿µè¿˜æ˜¯æ¯”è¾ƒæ¨¡ç³Šçš„ï¼Œè¿™æˆ‘è§£é‡Šä¸€ä¸‹ä»€ä¹ˆæ˜¯ç±»ã€å¯¹è±¡ã€OOPã€å°è£…ã€é›†æˆã€å¤šæ€ã€ä¿®é¥°ç¬¦ã€æŠ½è±¡ç±»ã€æ¥å£

#### ç±»çš„æ¦‚å¿µ

ç±»`å…¶å®å¯ä»¥ç†è§£ä¸ºä¸€ä»¶äº‹ç‰©çš„æŠ½è±¡ï¼ŒåŒ…å«äº†è¿™ä¸ªäº‹åŠ¡çš„ä¸€äº›å±æ€§ä¸æ–¹æ³•ä¸¾ä¸ªç®€å•çš„ğŸŒ°ï¼Œæ¯”å¦‚äººï¼Œäººå°±æ˜¯ä¸€ä¸ªå¤§ç±»ï¼Œæˆ‘ä»¬å¯ä»¥æŠ½è±¡å‡ºæ¥ä»–çš„ä¸€äº›ç‰¹ç‚¹ï¼Œæ¯”å¦‚ï¼š`å”±`ã€`è·³`è¿™æ˜¯äººçš„è¡Œä¸ºï¼Œ`æ™ºå•†`ã€`æƒ…å•†`ã€`æ€§åˆ«`ç­‰æ˜¯äººçš„å±æ€§ã€‚

#### å¯¹è±¡

å¯¹è±¡`å…¶å®å°±æ˜¯ç±»çš„å®ä¾‹åŒ–ï¼Œ`ç±»`æ˜¯ä¸€ä¸ªæŠ½è±¡ï¼Œ`å¯¹è±¡`å°±æ˜¯è®©ä»–å˜å¾—ç°å®ï¼Œä¸€ä¸ªç±»å¯ä»¥å®ä¾‹åŒ–å¤šä¸ªå¯¹è±¡ï¼Œç±»ä¼¼æˆ‘ä»¬å¯ä»¥æ ¹æ®`äºº`è¿™ä¸ªç±»ï¼Œåˆ¶é€ å¾ˆå¤šäººã€‚

#### é¢å‘å¯¹è±¡ OOP

é¢å‘å¯¹è±¡å¼€å‘çš„ä¸‰å¤§ç‰¹æ€§ï¼šå°è£…ã€ç»§æ‰¿ã€å¤šæ€

##### å°è£…

å°è£…`çš„æ„æ€å°±æ˜¯æˆ‘ä»¬çŸ¥é“çš„æ„æ€ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ä¸€äº›ä»£ç å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å°±æ˜¯ä¸€ä¸ªå°è£…ï¼Œå†é€šä¿—ä¸€ç‚¹è¯´ï¼Œæˆ‘ä»¬éœ€è¦å®ç°`äºº`ä¼š`è·³`è¿™ä¸ªæ–¹æ³•ï¼Œç»†èŠ‚å‘¢ï¼Ÿæˆ‘ä»¬åªéœ€è¦å°è£…èµ·æ¥ï¼Œæ¯”å¦‚å…ˆä¸‹è¹²ä¸€ç‚¹ï¼ŒåŒè…¿å‘åŠ›ï¼Œå‘ä¸Šç”¨åŠ›ç­‰ç­‰ï¼ŒæŠŠè¿™äº›ç»†èŠ‚å°è£…èµ·æ¥ï¼Œå°±å¯ä»¥ç›´æ¥è°ƒç”¨è¿™ä¸ªæ–¹æ³•è¿›è¡Œ`è·³`ï¼ŒåŒæ—¶å‘¢å¤–ç•Œä¹Ÿä¸èƒ½ç›´æ¥å»ä¿®æ”¹å†…éƒ¨çš„æ•°æ®ã€‚

##### ç»§æ‰¿

å­æ‰¿çˆ¶ä¸šï¼Œå„¿å­ç»§æ‰¿è€çˆ¹çš„æ‰€æœ‰æ–¹æ³•&å±æ€§ï¼Œä½†é™¤äº†æ‹¥æœ‰çˆ¶ç±»æ‰€æœ‰ç”¨çš„ç‰¹æ€§å¤–ï¼Œè¿˜æœ‰ä¸€äº›åˆ«å…·ä¸€æ ¼çš„ç‰¹æ€§ã€‚

##### å¤šæ€

ç”±äºç»§æ‰¿äº§ç”Ÿäº†å¾ˆå¤šç›¸å…³çš„ä¸åŒç±»ï¼Œå¾ˆå¤šå„¿å­ç»§æ‰¿äº†åŒä¸€ä¸ªè€çˆ¹ï¼Œå­ç±»å¯¹åŒä¸€ä¸ªæ–¹æ³•å¯ä»¥æœ‰ä¸åŒçš„å“åº”ã€‚æ¯”å¦‚`å°ç‹`å’Œ`å°æ`éƒ½ç»§æ‰¿è€çˆ¹`è€å¼ `ï¼Œä½†æ˜¯åˆ†åˆ«å®ç°äº†è‡ªå·±`getMoney`çš„æ–¹æ³•ï¼Œæ­¤æ—¶é’ˆå¯¹ä¸€ä¸ªå®ä¾‹ï¼Œæˆ‘ä»¬æ— éœ€äº†è§£ä»–æ˜¯`å°ç‹`è¿˜æ˜¯`å°æ`ï¼Œå°±å¯ä»¥ç›´æ¥è°ƒç”¨`getMoney`æ–¹æ³•ï¼Œç¨‹åºä¼šè‡ªåŠ¨åˆ¤æ–­å‡ºæ¥åº”è¯¥å¦‚ä½•æ‰§è¡Œ`getMoney`ã€‚

##### ä¿®é¥°ç¬¦

é¥°ç¬¦æ˜¯ä¸€äº›å…³é”®å­—ï¼Œç”¨äºé™å®šæˆå‘˜æˆ–è€…ç±»å‹çš„æ€§è´¨ï¼Œæ¯”å¦‚`public`è¡¨ç¤ºå…¬æœ‰å±æ€§oræ–¹æ³•

##### æŠ½è±¡ç±»

æŠ½è±¡ç±»æ˜¯ä¾›å…¶ä»–ç±»ç»§æ‰¿çš„`åŸºç±»`ï¼ŒæŠ½è±¡ç±»ä¸å…è®¸è¢«å®ä¾‹åŒ–ï¼ŒæŠ½è±¡ç±»ä¸­çš„æŠ½è±¡æ–¹æ³•å¿…é¡»åœ¨å­ç±»ä¸­è¢«å®ç°

##### æ¥å£

ä¸åŒç±»ä¹‹é—´å…±æœ‰çš„å±æ€§å’Œæ–¹æ³•ï¼Œå¯ä»¥æŠ½è±¡æˆä¸€ä¸ªæ¥å£ï¼Œæ¥å£å¯ä»¥è¢«ç±»å®ç°ï¼Œä¸€ä¸ªç±»èŒèƒ½ç»§æ‰¿è‡ªå¦å¤–ä¸€ä¸ªç±»ï¼Œä½†æ˜¯å¯ä»¥å®ç°å¤šä¸ªæ¥å£ã€‚

#### ES6ä¸­ç±»çš„ç”¨æ³•

##### ç±»çš„å®šä¹‰

ä½¿ç”¨`class`å®šä¹‰ç±»ï¼Œä½¿ç”¨`constructor`å®šä¹‰æ„é€ å‡½æ•°ï¼Œé€šè¿‡`new`ç”Ÿæˆæ–°å®ä¾‹çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨æ„é€ å‡½æ•°ã€‚

```ts
class Person {
    public IQ;
    publick name;
    constructor(IQ, name) {
        this.IQ = IQ
        this.name = name
    }
    saySomething() {
        return `hello, im ${this.name}, IQ: ${this.IQ}`
    }
}
let alice = new Person("Alice", 120)
console.log(alice.saySomething())

```

##### ç±»çš„ç»§æ‰¿

ç°åœ¨æœ‰äº†äººçš„ç±»ï¼Œæˆ‘ä»¬ç°åœ¨å®ç°ä¸€ä¸ª`Cop`ç±»ï¼Œ`Cop`ä¹Ÿå±äºäººï¼Œä¹Ÿæœ‰åå­—&IQï¼Œå­ç±»ä¸­ç”¨`super`å…³é”®å­—æ¥è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ä¸æ–¹æ³•ï¼š

```ts
class Cop extends Person {
    public job;
    constructor(IQ, name, job) {
        super(IQ, name)
        this.job = job;
    }
    saySomething() {
        return super.saySomething() + 'my job js ${this.job}'
    }
}
let tom = new Cup('tom', 100, 'cop')
console.log(tom.saySomething())

```

##### å­˜å–å™¨

ä½¿ç”¨ getter å’Œ setterå¯ä»¥æ”¹å˜å±æ€§çš„èµ‹å€¼å’Œè¯»å–è¡Œä¸ºï¼š

```ts
class FakerCop extends Person {
    constructor(IQ, name, job) {
        super(IQ, name)
        this.job = job
    }
    get job() {
        return 'fakerCop'
    }
    set job(val) {
        console.log('u want my job is' + value + '?')
    }
}
let tony = new FakerCop("Tony", 200, 'fakerCop');
tony.job = 'realCop'
console.log(tony.job) // fakerCop

```

##### é™æ€æ–¹æ³•

ä½¿ç”¨`static`ä¿®é¥°ç¬¦ä¿®é¥°çš„æ–¹æ³•æˆä¸ºé™æ€æ–¹æ³•ï¼Œä¸éœ€è¦è¢«å®ä¾‹åŒ–ï¼Œç›´æ¥é€šè¿‡ç±»æ¥è°ƒç”¨ï¼Œä¸¾ä¸ªğŸŒ°ï¼Œå®šä¹‰ä¸€ä¸ªåˆ¤æ–­çœŸå‡copçš„æ–¹æ³•ï¼š

```ts
class Cop extends Person {
    public job;
    constructor(IQ, name, job) {
        super(IQ, name)
        this.job = job;
    }
    static isCop(c) {
        return c instanceof Cop;
    }
    saySomething() {
        return super.saySomething() + 'my job js ${this.job}'
    }
}

console.log(Cop.isCop(tom)) // true
console.log(Cop.isCop(tony)) // false

```

#### TypeScriptä¸­ç±»çš„ç”¨æ³•

##### public private protected

- `public` ä¿®é¥°çš„å±æ€§æˆ–è€…æ–¹æ³•æ˜¯å…¬æœ‰çš„ï¼Œå¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è¢«è®¿é—®ï¼Œé»˜è®¤æ‰€æœ‰çš„æ–¹æ³•å’Œå±æ€§éƒ½æ˜¯`public`
- `private` ä¿®é¥°çš„å±æ€§æˆ–è€…æ–¹æ³•æ˜¯ç§æœ‰çš„ï¼Œä¸èƒ½å†å£°æ˜ä»–çš„ç±»çš„å¤–éƒ¨è®¿é—®
- `protected` ä¿®é¥°çš„å±æ€§æˆ–è€…æ–¹æ³•æ˜¯å—ä¿æŠ¤çš„ï¼Œä»–å’Œ`private`ç±»ä¼¼ï¼Œä¸åŒçš„æ˜¯ï¼Œå®ƒåœ¨å­ç±»ä¸­æ˜¯å¯ä»¥è®¿é—®çš„

`public` ä¸¾ä¸ªæ —å­ï¼š

```ts
class Animal {
    public name;
    public constructor(name) {
        this.name = name
    }
}

let a = new Animal('Jack')
console.log(a.name) // Jack
a.name = 'Tom'
console.log(a.name) // Tom

```

`private` ä¸¾ä¸ªæ —å­ï¼š

```ts
class Animal {
    private name
    public constructor(name) {
        this.name = name
    }
}
let a = new Animal('Jack')
console.log(a.name)
a.name = 'Tom'

```

ts ä¼šæç¤º`å±æ€§â€œnameâ€ä¸ºç§æœ‰å±æ€§ï¼Œåªèƒ½åœ¨ç±»â€œAnimalâ€ä¸­è®¿é—®ã€‚`

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bee6d7f386f645e2a09da720cfc17359~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?)

å­ç±»ä¸­ä¹Ÿä¸èƒ½è®¿é—®ï¼Œè¿™é‡Œå°±ä¸è¯´äº†ï¼›

`protected` ä¸¾ä¸ªæ —å­ï¼š

```ts
class Animal {
    protected name;
    public constructor(name) {
        this.name = name
    }
}
class Cat extends Animal {
    constructor(name) {
        super(name);
        console.log(this.name)
    }
}

```

å­ç±»å¯ä»¥è®¿é—®çˆ¶ç±»çš„`protected`å±æ€§

å½“æ„é€ æµ·æ›™ä¸º`protected`æ—¶ï¼Œè¿™ä¸ªç±»åªèƒ½ç»§æ‰¿ï¼Œä¸èƒ½è¢«å®ä¾‹åŒ–ï¼š

```ts
class Animal {
    protected name;
    protected constructor(name) {
        this.name = name
    }
}

class Cat extends Animal {
    constructor(name) {
        super(name)
    }
}

let a = new Animal('Jack')

```

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/88ca6b42933548998c6f945fca588c25~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?)

##### å‚æ•°å±æ€§

ä¿®é¥°ç¬¦å’Œ`readonly`è¿˜å¯ä»¥åœ¨æ„é€ å‡½æ•°å‚æ•°ä¸­ä½¿ç”¨ï¼Œç­‰åŒäºç±»ä¸­å®šä¹‰è¯¥å±æ€§åŒæ—¶ç»™è¯¥å±æ€§èµ‹å€¼ï¼Œä»£ç çœ‹ä¸Šå»ä¼šæ›´ç®€æ´ï¼š

```ts
class Animal {
    // public name: string;
    public constructor(public name) {
        // this.name = name
    }
}

```

##### readonly

åªè¯»å…³é”®å­—

```ts
class Animal {
    public constructor(readonly name) {
        
    }
}
let a = new Animal('Jack')
console.log(a.name)
a.name = 'Tony' // Error

```

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9e12c4bfed14499e830244d88a7d2d09~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?)

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœreadonlyä¸å…¶ä»–ä¿®é¥°ç¬¦åŒæ—¶å‡ºç°çš„æ—¶å€™ï¼Œéœ€è¦å†™åœ¨æœ€åï¼Œæ”¹é€ ä¸Šé¢çš„æ —å­ï¼š

```ts
class Animal {
    public constructor(public readonly name: string) {}
}

```

#### æŠ½è±¡ç±»

`abstract` ç”¨äºå®šä¹‰æŠ½è±¡ç±»å’Œå…¶ä¸­çš„æŠ½è±¡æ–¹æ³•ï¼Œé¦–å…ˆæŠ½è±¡ç±»ä¸å…è®¸è¢«å®ä¾‹åŒ–ï¼Œä¸¾ä¸ªæ —å­ï¼š

```ts
abstract class Animal {
    public constructor(public name: string) {}
    public abstract sayHi(): void;
}
let a = new Animal('jack')

```

æŠ›å‡ºé”™è¯¯ï¼š

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/437f9f1183fb411ea26101a231764dac~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?)

å…¶æ¬¡ï¼ŒæŠ½è±¡ç±»çš„æŠ½è±¡æ–¹æ³•å¿…é¡»è¢«å­ç±»å®ç°ï¼š

```ts
class Cat extends Animal {
    public eat() {
        console.log()
    }
}

```

å¦‚æœä¸å®ç°`sayHi`æ–¹æ³•ï¼Œå°±ä¼šæŠ›å‡ºé”™è¯¯

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ba2a45f3068a463e930a0de1dd8a716c~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?)

æ­£ç¡®çš„åšæ³•å¦‚ä¸‹ï¼š

```ts
abstract class Animal {
  public constructor(public name: string) {}
  public abstract sayHi(): void;
}

class Cat extends Animal {
  public eat(): void {
    console.log("im eating");
  }
  public sayHi(): void {
    console.log("hi~ my name is " + this.name);
  }
}

let c = new Cat("Jack");
c.eat();
c.sayHi();

```

#### ç±»çš„ç±»å‹

```ts
class Animal {
  public constructor(public name: string) {}
  public sayHi(): string {
    return `Hi~ my name is ${this.name}`;
  }
}

let a: Animal = new Animal("Jack");

```

### æ³›å‹

æ³›å‹æ˜¯æŒ‡åœ¨å®šä¹‰å‡½æ•°ã€æ¥å£ã€ç±»çš„æ—¶å€™ï¼Œä¸é¢„å…ˆæŒ‡å®šå…·ä½“ç±»å‹ï¼Œè€Œåœ¨ä½¿ç”¨çš„æ—¶å€™å†æŒ‡å®šç±»å‹çš„ä¸€ç§ç‰¹æ€§ã€‚

#### åŸºæœ¬å®šä¹‰

æˆ‘ä»¬å®ç°ä¸€ä¸ª `createArray`å‡½æ•°ï¼Œä»–å¯ä»¥åˆ›å»ºä¸€ä¸ªæŒ‡å®šé•¿åº¦çš„æ•°ç»„ï¼ŒåŒäº‹å°†æ¯ä¸€é¡¹éƒ½å¡«å……ä¸€ä¸ªé»˜è®¤å€¼ï¼š

```ts
function createArray(length: number, value: any): Array<any> {
    let result = []
    for(let i = 0; i < length; i++) {
        result[i] = value
    }
    return result
}

```

ä¸Šé¢æˆ‘ä»¬ç”¨åˆ°çš„æ˜¯`æ•°ç»„æ³›å‹`ï¼Œä½†æ˜¯`any`è¿˜æ˜¯æœ‰ç‚¹ä¸å¦¥ï¼Œæˆ‘ä»¬å¸Œæœ›ä¸ `value`çš„ç±»å‹ç›¸åŒï¼Œä½†æ˜¯æˆ‘ä»¬å¹¶ä¸çŸ¥é“`value`æ˜¯ä»€ä¹ˆç±»å‹ï¼Œè¿™æ—¶å€™`æ³›å‹`å°±èµ·ä½œç”¨äº†ï¼š

```ts
function createArray<T>(length: number, value: T): Array<T> {
    let result: T[] = []
    for(let i = 0; i < length; i++) {
        result[i] = value
    }
    return result
}
createArray<string>(3, 'x')

```

ä¸Šé¢çš„æ —å­é‡Œï¼Œæˆ‘ä»¬åœ¨å‡½æ•°ååé¢æ·»åŠ äº†`<T>`ï¼Œå…¶ä¸­`T`ç”¨æ¥æŒ‡ä»£ä»»æ„è¾“å…¥çš„ç±»å‹ï¼Œåœ¨åé¢è¾“å…¥`value: T`å’Œè¾“å‡º`Array<T>`ä¸­å³å¯ä½¿ç”¨äº†ã€‚

æ¥ä¸‹æ¥çš„è°ƒç”¨ä¸­ï¼Œå…·ä½“çš„æŒ‡å®šå®ƒä¸º`string`ï¼Œä¹Ÿå¯ä»¥ä¸æŒ‡å®šï¼Œäº¤ç»™`ç±»å‹æ¨å¯¼`

```ts
createArray(3, 'x')

```

#### å¤šä¸ªç±»å‹å‚æ•°

å®šä¹‰æ³›å‹çš„æ—¶å€™ï¼Œå¯ä»¥ä¸€æ¬¡å®šä¹‰å¤šä¸ªç±»å‹å‚æ•°ï¼š

```ts
function swap<T, U>(tup;e: [T, U]): [T, U] {
    return [tuple[1], tuple[0]]
}
swap([7, 'seven']) // ['seven', 7]

```

#### æ³›å‹çº¦æŸ

å‡½æ•°å†…éƒ¨ä½¿ç”¨æ³›å‹å˜é‡çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½ä¸çŸ¥é“å®ƒåˆ°åº•æ˜¯é‚£ç§ç±»å‹ï¼Œæ‰€ä»¥ä¸èƒ½éšæ„çš„æ“ä½œä»–çš„å±æ€§æˆ–è€…æ–¹æ³•ï¼š

```ts
function loggingIdentity<T>(arg: T): T {
    console.log(arg.length)
    return arg
}

```

è¿™æ ·å†™ä¼šæŠ›å‡ºé”™è¯¯ï¼š

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/db957a6204f1490f9df5edb3677250cf~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?)

å› ä¸ºæ³›å‹Tä¸Šä¸ä¸€å®šæœ‰lengthï¼Œè¿™æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹æ³›å‹è¿›è¡Œçº¦æŸï¼Œåªå…è®¸è¿™ä¸ªå‡½æ•°ä¼ å…¥é‚£äº›åŒ…å«`length`å±æ€§çš„å˜é‡ï¼Œè¿™å°±æ˜¯`æ³›å‹çº¦æŸ`ï¼š

```ts
interface lengthwise {
    length: number;
}
function loggintIdentity<T extends lengthwise>(agr: T): T {
    console.log(agr.length)
    return arg
}

```

è¿™ä¸ªæ—¶å€™å¦‚æœä½ è°ƒç”¨`loggintIdentity`ä¼ å…¥çš„å€¼æ²¡æœ‰`length`å±æ€§ï¼Œé‚£ä¹ˆä¼šæŠ›å‡ºé”™è¯¯

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3c69ce17696d407f84a810397974153d~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?)

å¤šä¸ªç±»å‹å‚æ•°ä¹‹é—´ä¹Ÿå¯ä»¥äº’ç›¸çº¦æŸï¼š

```ts
function copyFields<T extends U, U>(target: T, source: U): T {
  for (const key in source) {
    if (Object.prototype.hasOwnProperty.call(source, key)) {
      target[key] = (<T>source)[key];
    }
  }
  return target;
}
let x = { a: 1, b: 2, c: 3, d: 4 };
console.log(copyFields(x, { b: 10, d: 20 }));

```

è¿™å—å¯èƒ½æœ‰åŒå­¦çœ‹ä¸æ‡‚`target[key] = (<T>source)[key]`æ˜¯å•¥æ„æ€äº†ï¼Œæˆ‘åœ¨è¿™è§£é‡Šä¸€ä¸‹ï¼š

```
(<T>source)[key]` === `(source as T)[key]
```

ç°åœ¨çš„æƒ…å†µæ˜¯ï¼š`target`çš„ç±»å‹æ˜¯`T`ï¼Œ`source`çš„ç±»å‹æ˜¯`U`ï¼ŒäºŒè€…çš„ç±»å‹ä¸åŒï¼Œæ‰€ä»¥æ— æ³•ç›´æ¥èµ‹å€¼ï¼ŒäºŒè€…å¿…é¡»æ–­è¨€ä¸€ä¸ªï¼Œä½¿ä»–ä»¬å˜æˆç»Ÿä¸€ç±»å‹ï¼Œå¦‚æœä¸è¿™ä¹ˆåšï¼Œä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼š

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/638dfc882d404d6a87cc67a14f4af2e9~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?)

#### æ³›å‹æ¥å£

æ¥å£å¯ä»¥çº¦å®šä¸€ä¸ªå‡½æ•°çš„å½¢çŠ¶ï¼š

```ts
interface SearchFunc {
    (source: string, subString: string): boolean;
}
let mySearch: SearchFunc;
mySearch = function (source: string, substring: string) {
    return source.search(subString) !== -1
}

```

ä¹Ÿå¯ä»¥ä½¿ç”¨æœ‰æ³›å‹çš„æ¥å£å®šä¹‰å‡½æ•°çš„å½¢çŠ¶ï¼š

```ts
interface CreateArrayFunc {
  <T>(length: number, value: T): Array<T>;
}
let createArray: CreateArrayFunc;
createArray = function <T>(length: number, value: T): Array<T> {
  let result: T[] = [];
  for (let i = 0; i < length; i++) {
    result[i] = <T>value;
  }
  return result;
};
console.log(createArray(3, "x"));

```

#### æ³›å‹å‚æ•°çš„é»˜è®¤å€¼

```ts
interface CreateArrayFunc {
  <T>(length: number, value: T): Array<T>;
}
let createArray: CreateArrayFunc;
createArray = function <T = string>(length: number, value: T): Array<T> {
  let result: T[] = [];
  for (let i = 0; i < length; i++) {
    result[i] = <T>value;
  }
  return result;
};
console.log(createArray(3, "x"));
```



